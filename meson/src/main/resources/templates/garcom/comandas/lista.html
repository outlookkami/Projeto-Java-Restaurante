<!DOCTYPE html>
<html lang="pt-BR" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="~{fragments/head :: head('Lista Comandas')}"></th:block>
    <script th:src="@{/js/garcom.js}"></script>
    <script th:src="@{/js/fluxos-garcom/controleModal.js}"></script>
</head>
<body>

<div class="layout">
    <aside th:replace="~{fragments/menu-lateral-garcom :: menu-lateral}"></aside>

    <main class="content">
        <header class="header">
            <h1>Comandas</h1>
        </header>
        <!-- Listagem das Comandas -->
        <section class="comandas">
            <div class="card-comanda" th:each="comanda : ${comandas}" th:classappend="${comanda.status}" >
                <div th:onclick="'abrirModalDetalheComanda(' + ${comanda.id} + ')'">
                    <span class="titulo-comanda" th:text="'COMANDA: ' + 'Mesa ' + ${comanda.mesa.numero}">COMANDA</span>
                    <h4 th:text="${comanda.nomeCliente}"></h4>
                    <span class="status" th:text="${comanda.status}" th:classappend="${comanda.status.name().toLowerCase()}"></span>

                    <p>
                        <span th:text="'R$ ' + ${comanda.valor}"></span>
                    </p>
                </div>
            </div>
        </section>
    </main>
</div>

<div id="modalPrincipal" class="modal">
    <div class="modal-conteudo">
        <span class="fechar" onclick="fecharModal()">Ã—</span>
        <div id="modalConteudo"></div>
    </div>
</div>

<style>
    * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Dm Sans', Arial, sans-serif;
}

.comandas {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 20px;
}

.card-comanda {
    background: white;
    border-radius: 16px;
    padding: 20px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
    cursor: pointer;
}

.card-comanda .titulo-comanda {
    font-size: 12px;
    letter-spacing: 1px;
    color: #777;
}

.card-comanda h4 {
    font-size: 32px;
    margin: 10px 0;
    color: #6b3b2a;
    font-family: 'Playfair Display', 'DM Sans', 'Inter', Arial;
}

.card-comanda p {
    font-size: 14px;
    color: #555;
}

.mesa-click{
    text-decoration: none;
    color: black;
}

.status {
    display: flex;
    margin-top: 10px;
    padding: 4px 10px;
    border-radius: 8px;
    font-size: 12px;
}

.fechada{
    background: #f1e3dd;
    color: #6b3b2a;
    border: solid 1px #6b3b2a;
    width: 80px;
    text-align: justify;
    margin-bottom: 6px;
}

.aberta {
    background: #e3f1ec;
    color: #2f7a5f;
    border: solid 1px #2f7a5f;
    width: 90px;
    text-align: justify;
    margin-bottom: 6px;
}

.btn-novo-pedido {
    border: none;
    background-color: #577569;
    color: white;
    border-radius: 10px;
    padding: 7px;
}

.header-detalhe{
    display: flex;
    justify-content: space-between;
    margin-left: auto;

}

<!--.btn-comanda {-->
<!--    background-color: #5c3024;-->
<!--    color: #ffffff;-->
<!--    border: none;-->
<!--    border-radius: 8px;-->
<!--    padding: 6px;-->
<!--    width: 140px;-->
<!--    cursor: pointer;-->
<!--}-->

<!--.btn-comanda:hover, btn-cancelar:hover{-->
<!--    opacity: 0.9;-->
<!--}-->

<!--.card-comanda {-->
<!--    background: white;-->
<!--    border-radius: 16px;-->
<!--    padding: 20px;-->
<!--    box-shadow: 0 4px 10px rgba(0,0,0,0.05);-->
<!--    cursor: pointer;-->
<!--    gap: 20px;-->
<!--    margin-top: 12px;-->
<!--    margin-bottom: 12px;-->
<!--}-->

<!--.status-comanda .aberta{-->
<!--    border: solid 1px #577569;-->
<!--}-->

<!--.status-comanda .aberta{-->
<!--    border: solid 1px #577569;-->
<!--}-->

<!--.div-btn-comanda{-->
<!--    display: flex;-->
<!--    justify-content: space-between;-->
<!--    width:100%;-->
<!--    clear: both;-->
<!--}-->

<!--.btn-fechar-comanda{-->
<!--    font-size: 14px;-->
<!--    padding: 4px;-->
<!--    border: solid 1px #577569;-->
<!--    background-color: #fdf6ee;-->
<!--    border-radius: 12px;-->
<!--    float: right;-->
<!--}-->

<!--.btn-ver-detalhes{-->
<!--    font-size: 14px;-->
<!--    padding: 4px;-->
<!--    border: solid 1px #5c3024;-->
<!--    background-color: #fdf6ee;-->
<!--    border-radius: 12px;-->
<!--    float: left;-->
<!--}-->
</style>
</body>
</html>
