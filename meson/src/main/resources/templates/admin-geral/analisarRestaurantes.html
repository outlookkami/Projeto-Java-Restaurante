<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <th:block th:replace="~{fragments/head :: head('Aprovar Restaurantes')}"></th:block>
    <script th:src="@{/js/modalRestaurante.js}"></script>
</head>
<body>
<div class="layout">
    <aside class="sidebar" th:replace="~{fragments/menu-lateral-adminGeral :: menu-lateral}"></aside>

    <main class="content">
        <header class="header">
            <h1>Restaurantes</h1>
        </header>
        <!-- Listagem de Restaurantes -->
        <section class="restaurantes">
            <div class="card-restaurante" th:each="restaurante : ${restaurantes}">
                <div onclick="abrirModalAnalise(this)" th:data-id="${restaurante.id}">
                    <span class="titulo-restaurante" th:text="${restaurante.razaoSocial}"></span>
                    <h4 th:text="${restaurante.nomeFantasia}"></h4>
                    <span class="cnpj" th:text="${restaurante.cnpj}"></span>

                    <p>
                        <span th:text="'Cnae: ' + ${restaurante.cnae} + ' - ' + ${restaurante.descricaoCnae}"></span>
                    </p>
                </div>
                <div>
                    <a th:href="@{/admin-geral/analisarRestaurantes/aprovar/{id}(id=${restaurante.id})}"  class="btn-aprovar">Aprovar</a>
                    <a th:href="@{/admin-geral/analisarRestaurantes/recusar/{id}(id=${restaurante.id})}" class="btn-recusar">Recusar</a>
                </div>
            </div>
        </section>
    </main>
</div>

    <div id="modalRestaurante" class="modal-restaurante">
            <span class="fechar" onclick="fecharModalAnalise()">×</span>
            <div class="info-rest">
                <h3 id="modalNomeFantasia"></h3>
                <p><strong>Cnpj: </strong><span id="modalCnpj"></span></p>
                <p><strong>Razão Social: </strong><span id="modalRazaoSocial"></span></p>
                <p><strong>Código Cnae: </strong><span id="modalCnae"></span></p>
                <p><strong>Descrição do Cnae: </strong><span id="modalDescCnae"></span></p>
                <p><strong>Telefone: </strong><span id="modalTelefone"></span></p>
                <div>
                    <a id="btnAprovar" class="btn-aprovar">Aprovar</a>
                    <a id="btnRecusar" class="btn-recusar">Recusar</a>
                </div>
            </div>
    </div>

<style>
.restaurantes{
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.card-restaurante {
    background-color: #ffffff;
    border: none;
    border-radius: 20px;
    padding: 16px;
    margin: 10px;
    cursor: pointer;
}

.modal-restaurante {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.4);

    align-items: center;
    justify-content: center;
}

.info-rest {
    background-color: #fbfaf9;
    margin: 10% auto;
    padding: 20px;
    width: 400px;
    border-radius: 8px;
}

.info-rest h3 {
    font-family: 'Playfair Display', 'Dm Sans', 'Inter', Arial;
    color: #5c3024;
    justify-content: center;
    margin-bottom: 10px;
}

.btn-aprovar{
    text-decoration: none;
    font-size: 14px;
    background-color: #567568;
    color: white;
    border: none;
    padding: 6px 10px;
    margin-right: 5px;
    border-radius: 4px;
    cursor: pointer;
}

.btn-recusar{
    text-decoration: none;
    background-color: #5e3023;
    color: white;
    border: none;
    padding: 6px 10px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
}
</style>
</body>
</html>